<!DOCTYPE html>
<html>
  <head>
    <title>SB Cloud&nbsp;テクニカルリファレンス</title>
    
      <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="revised" content="2019-11-13T04:34:23 UTC">
<title>CloudMonitor :: テクニカルリファレンス</title>
<link rel="shortcut icon" href="/help/images/favicon.png" type="image/x-icon" />
<link href="/help/css/font-awesome.min.css" rel="stylesheet">
<link href="/help/css/nucleus.css" rel="stylesheet">
<link href="/help/theme-flex/style.css" rel="stylesheet">

	<link href="/help/theme-flex/variant-blue.css" rel="stylesheet">

<link rel="stylesheet" href="/help/css/bootstrap.min.css">
<script src="/help/js/jquery-2.x.min.js"></script>
<script type="text/javascript">
      var baseurl = "https:\/\/www.sbcloud.co.jp\/help\/";
</script>

<script async defer src="https://buttons.github.io/buttons.js"></script>



<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'GTM-MQFZWG', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>



<script type="text/javascript" id="mierucajs">
window.__fid = window.__fid || [];__fid.push([317537360]);
(function() {
function mieruca(){if(typeof window.__fjsld != "undefined") return; window.__fjsld = 1; var fjs = document.createElement('script'); fjs.type = 'text/javascript'; fjs.async = true; fjs.id = "fjssync"; var timestamp = new Date;fjs.src = ('https:' == document.location.protocol ? 'https' : 'http') + '://hm.mieru-ca.com/service/js/mieruca-hm.js?v='+ timestamp.getTime(); var x = document.getElementsByTagName('script')[0]; x.parentNode.insertBefore(fjs, x); };
setTimeout(mieruca, 500); document.readyState != "complete" ? (window.attachEvent ? window.attachEvent("onload", mieruca) : window.addEventListener("load", mieruca, false)) : mieruca();
})();
</script>



<meta name="description" content="CloudMonitorを用いたAlibabaCloudリソースの監視について解説します。">

        


<link href="/help/css/custom.css"  rel="stylesheet">


    
  </head>
  <body data-url="/help/best-practice/product/cloudmonitor/cloudmonitor/">
    
      <header>

    
  <div class="logo">
      <a href="https://www.sbcloud.co.jp/help/" style="vertical-align: baseline;">
            <img src="https://www.sbcloud.co.jp/help//img/sbcloud_logo.png" class="noshadow" alt="">
        </a>
  </div>

  <div class="burger"><a href="javascript:void(0);" style="font-size:15px;">&#9776;</a></div>

<nav class="shortcuts">
    <li>
        <span class="searchbox">
            <input data-search-input id="search-by" type="text" placeholder="検索">
        </span>
        <script type="text/javascript" src="/help/js/lunr.min.js"></script>
        <script type="text/javascript" src="/help/js/auto-complete.js"></script>
        <link href="/help/css/auto-complete.css" rel="stylesheet">
        <script type="text/javascript">
            
            var baseurl = "https:\/\/www.sbcloud.co.jp\/help\/";
            
        </script>
        <script type="text/javascript" src="/help/js/search.js"></script>
    </li>
            <li class="" role="">
                <a href="https://github.com/sbcloud/help"  rel="noopener">
                  <i class='fa fa-github'></i> <label>Github repo</label>
                </a>
            </li>
        </nav>
</header>
<article>
  <aside>
    <ul class="menu">
    <li data-nav-id="/help/getting-started/" class="dd-item haschildren
        ">
      <div>
      <a href="/help/getting-started/">Getting Started</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/help/getting-started/registration/" class="dd-item">
        <div>
          <a href="/help/getting-started/registration/">
            アカウント登録
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
    <li data-nav-id="/help/getting-started/product/" class="dd-item haschildren
        ">
      <div>
      <a href="/help/getting-started/product/">プロダクトの紹介</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/help/getting-started/product/links/" class="dd-item">
        <div>
          <a href="/help/getting-started/product/links/">
            プロダクト資料のリンク一覧
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/help/getting-started/product/ecs-by-region/" class="dd-item">
        <div>
          <a href="/help/getting-started/product/ecs-by-region/">
            ECSの使用可能なRegion/Spec/Price紹介
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/help/getting-started/cloud-users/" class="dd-item haschildren
        ">
      <div>
      <a href="/help/getting-started/cloud-users/">AWS/Azure/GCPユーザ向け</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/help/getting-started/cloud-users/vs-aws-gcp-azure/" class="dd-item">
        <div>
          <a href="/help/getting-started/cloud-users/vs-aws-gcp-azure/">
            サービスラインナップ比較
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    <li data-nav-id="/help/best-practice/" class="dd-item parent haschildren
        ">
      <div>
      <a href="/help/best-practice/">ベストプラクティス</a>
            <i class="fa fa-angle-down fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
    <li data-nav-id="/help/best-practice/general/" class="dd-item haschildren
        ">
      <div>
      <a href="/help/best-practice/general/">全般</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/help/best-practice/general/advisory/" class="dd-item">
        <div>
          <a href="/help/best-practice/general/advisory/">
            アドバイザリ
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/help/best-practice/general/pricing/" class="dd-item">
        <div>
          <a href="/help/best-practice/general/pricing/">
            料金体系
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/help/best-practice/product/" class="dd-item parent haschildren
        ">
      <div>
      <a href="/help/best-practice/product/">プロダクト</a>
            <i class="fa fa-angle-down fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
    <li data-nav-id="/help/best-practice/product/datav/" class="dd-item haschildren
        ">
      <div>
      <a href="/help/best-practice/product/datav/">DataV</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/help/best-practice/product/datav/datav-sakura/" class="dd-item">
        <div>
          <a href="/help/best-practice/product/datav/datav-sakura/">
            DataV より桜前線のシミュレーション実現
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/help/best-practice/product/datav/datav-develop-api-cookie/" class="dd-item">
        <div>
          <a href="/help/best-practice/product/datav/datav-develop-api-cookie/">
            DataV のデータ権限制御
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/help/best-practice/product/datav/datav-widget-develop-guide/" class="dd-item">
        <div>
          <a href="/help/best-practice/product/datav/datav-widget-develop-guide/">
            DataV Widget 開発ガイド
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
      <li data-nav-id="/help/best-practice/product/cloudmonitor/cloudmonitor/" class="dd-item active">
        <div>
          <a href="/help/best-practice/product/cloudmonitor/cloudmonitor/">
            CloudMonitor
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/help/best-practice/web-application/" class="dd-item haschildren
        ">
      <div>
      <a href="/help/best-practice/web-application/">Webアプリケーション</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/help/best-practice/web-application/01/introduction/" class="dd-item">
        <div>
          <a href="/help/best-practice/web-application/01/introduction/">
            イントロダクション
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/help/best-practice/web-application/02/name-resolve/" class="dd-item">
        <div>
          <a href="/help/best-practice/web-application/02/name-resolve/">
            名前解決
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/help/best-practice/web-application/03/loadbalancer/" class="dd-item">
        <div>
          <a href="/help/best-practice/web-application/03/loadbalancer/">
            負荷分散
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/help/best-practice/web-application/04/web-ap/" class="dd-item">
        <div>
          <a href="/help/best-practice/web-application/04/web-ap/">
            Web/APサーバ
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/help/best-practice/web-application/05/database/" class="dd-item">
        <div>
          <a href="/help/best-practice/web-application/05/database/">
            データベース
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/help/best-practice/terraform/" class="dd-item haschildren
        ">
      <div>
      <a href="/help/best-practice/terraform/">Terraform</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/help/best-practice/terraform/01/how-to-use/" class="dd-item">
        <div>
          <a href="/help/best-practice/terraform/01/how-to-use/">
            Terraformとは
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/help/best-practice/terraform/02/install/" class="dd-item">
        <div>
          <a href="/help/best-practice/terraform/02/install/">
            インストール
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/help/best-practice/terraform/03/sample-project/" class="dd-item">
        <div>
          <a href="/help/best-practice/terraform/03/sample-project/">
            サンプルプロジェクトの作成
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/help/best-practice/terraform/04/run-terraform/" class="dd-item">
        <div>
          <a href="/help/best-practice/terraform/04/run-terraform/">
            サンプルプロジェクトの実行
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/help/best-practice/terraform/05/program-syntax/" class="dd-item">
        <div>
          <a href="/help/best-practice/terraform/05/program-syntax/">
            Terraform文法について
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/help/best-practice/terraform/06/docker/" class="dd-item">
        <div>
          <a href="/help/best-practice/terraform/06/docker/">
            Dockerについて
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/help/best-practice/terraform/07/module/" class="dd-item">
        <div>
          <a href="/help/best-practice/terraform/07/module/">
            Moduleについて
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/help/best-practice/terraform/08/vpc/" class="dd-item">
        <div>
          <a href="/help/best-practice/terraform/08/vpc/">
            VPCの作成
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/help/best-practice/terraform/09/ecs/" class="dd-item">
        <div>
          <a href="/help/best-practice/terraform/09/ecs/">
            ECS、EIPの作成
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/help/best-practice/terraform/10/slb/" class="dd-item">
        <div>
          <a href="/help/best-practice/terraform/10/slb/">
            SLBの作成
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/help/best-practice/terraform/11/autoscaling/" class="dd-item">
        <div>
          <a href="/help/best-practice/terraform/11/autoscaling/">
            AutoScalingの作成
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/help/best-practice/terraform/12/oss/" class="dd-item">
        <div>
          <a href="/help/best-practice/terraform/12/oss/">
            OSSの作成
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/help/best-practice/terraform/13/rds/" class="dd-item">
        <div>
          <a href="/help/best-practice/terraform/13/rds/">
            RDSの作成
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/help/best-practice/terraform/14/ram/" class="dd-item">
        <div>
          <a href="/help/best-practice/terraform/14/ram/">
            RAMの作成
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/help/best-practice/terraform/15/kubernetes/" class="dd-item">
        <div>
          <a href="/help/best-practice/terraform/15/kubernetes/">
            Kubernetesの作成
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/help/best-practice/network/" class="dd-item haschildren
        ">
      <div>
      <a href="/help/best-practice/network/">ネットワーク</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/help/best-practice/network/jp-cn/" class="dd-item">
        <div>
          <a href="/help/best-practice/network/jp-cn/">
            日本と中国のNW接続
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/help/best-practice/container/" class="dd-item haschildren
        ">
      <div>
      <a href="/help/best-practice/container/">コンテナ</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/help/best-practice/container/01/introduction/" class="dd-item">
        <div>
          <a href="/help/best-practice/container/01/introduction/">
            イントロダクション
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/help/best-practice/container/02/development-environment/" class="dd-item">
        <div>
          <a href="/help/best-practice/container/02/development-environment/">
            開発環境
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/help/best-practice/container/03/image-management/" class="dd-item">
        <div>
          <a href="/help/best-practice/container/03/image-management/">
            コンテナイメージ作成・管理
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/help/best-practice/container/04/deploy-management/" class="dd-item">
        <div>
          <a href="/help/best-practice/container/04/deploy-management/">
            コンテナデプロイ管理
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/help/best-practice/container/05/monitoring/" class="dd-item">
        <div>
          <a href="/help/best-practice/container/05/monitoring/">
            ログ管理とモニタリング
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/help/best-practice/bigdata/" class="dd-item haschildren
        ">
      <div>
      <a href="/help/best-practice/bigdata/">Bigdata</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/help/best-practice/bigdata/001_what-is-bigdata/" class="dd-item">
        <div>
          <a href="/help/best-practice/bigdata/001_what-is-bigdata/">
            BigDataとは
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/help/best-practice/bigdata/002_hadoop-and-ecosystem-technologies/" class="dd-item">
        <div>
          <a href="/help/best-practice/bigdata/002_hadoop-and-ecosystem-technologies/">
            Hadoopとその周辺の技術について
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/help/best-practice/bigdata/003_what-is-spark/" class="dd-item">
        <div>
          <a href="/help/best-practice/bigdata/003_what-is-spark/">
            Sparkについて
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/help/best-practice/bigdata/004_what-is-hdfs/" class="dd-item">
        <div>
          <a href="/help/best-practice/bigdata/004_what-is-hdfs/">
            HDFSとは
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/help/best-practice/bigdata/005_what-is-yarn/" class="dd-item">
        <div>
          <a href="/help/best-practice/bigdata/005_what-is-yarn/">
            YARNとは
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/help/best-practice/bigdata/006_what-is-required-for-dwh/" class="dd-item">
        <div>
          <a href="/help/best-practice/bigdata/006_what-is-required-for-dwh/">
            DWHには何が必要か
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/help/best-practice/bigdata/007_oss-and-e-mapreduce/" class="dd-item">
        <div>
          <a href="/help/best-practice/bigdata/007_oss-and-e-mapreduce/">
            OSSとE-MapReduce
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/help/best-practice/bigdata/008_training_etl_and_olap_with_e-mapreduce/" class="dd-item">
        <div>
          <a href="/help/best-practice/bigdata/008_training_etl_and_olap_with_e-mapreduce/">
            E-MapReduce起動、ETLとOLTP、OLAPをする
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/help/best-practice/bigdata/009_data-collection/" class="dd-item">
        <div>
          <a href="/help/best-practice/bigdata/009_data-collection/">
            既存データからの移植について
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/help/best-practice/bigdata/010_logservice-to-oss/" class="dd-item">
        <div>
          <a href="/help/best-practice/bigdata/010_logservice-to-oss/">
            LogServiceでOSSへデータを集める方法
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/help/best-practice/bigdata/011_aws-s3-to-oss/" class="dd-item">
        <div>
          <a href="/help/best-practice/bigdata/011_aws-s3-to-oss/">
            AWS S3からOSSへ
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/help/best-practice/bigdata/012_idc-to-oss/" class="dd-item">
        <div>
          <a href="/help/best-practice/bigdata/012_idc-to-oss/">
            IDCからOSSへ
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/help/best-practice/bigdata/013_apache-spark-to-oss/" class="dd-item">
        <div>
          <a href="/help/best-practice/bigdata/013_apache-spark-to-oss/">
            ApacheSpark（Batch）からOSSへ
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/help/best-practice/bigdata/014_apache-spark-streaming-to-oss/" class="dd-item">
        <div>
          <a href="/help/best-practice/bigdata/014_apache-spark-streaming-to-oss/">
            ApacheSpark（Streaming）からOSSへ
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/help/best-practice/bigdata/016_apache-flume-to-oss/" class="dd-item">
        <div>
          <a href="/help/best-practice/bigdata/016_apache-flume-to-oss/">
            Apache FlumeからOSSへ
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/help/best-practice/bigdata/017_fluentd-to-oss/" class="dd-item">
        <div>
          <a href="/help/best-practice/bigdata/017_fluentd-to-oss/">
            FluentdからOSSへ
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/help/best-practice/bigdata/018_enbulk-to-oss/" class="dd-item">
        <div>
          <a href="/help/best-practice/bigdata/018_enbulk-to-oss/">
            EnbulkからOSSへ
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/help/best-practice/bigdata/019_apache-arrow-to-oss/" class="dd-item">
        <div>
          <a href="/help/best-practice/bigdata/019_apache-arrow-to-oss/">
            Apache ArrowからOSSへ
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/help/best-practice/bigdata/020_rds-for-mysql-to-oss-sqoop-and-spark/" class="dd-item">
        <div>
          <a href="/help/best-practice/bigdata/020_rds-for-mysql-to-oss-sqoop-and-spark/">
            RDS for MySQLからOSSへ
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/help/best-practice/bigdata/021_alibabacloud-oss-to-another-oss-migration-/" class="dd-item">
        <div>
          <a href="/help/best-practice/bigdata/021_alibabacloud-oss-to-another-oss-migration-/">
            AlibabaCloud OSSから別のOSSへ（移植）
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/help/best-practice/bigdata/022_alibabacloud-oss-to-another-oss-synchronization-/" class="dd-item">
        <div>
          <a href="/help/best-practice/bigdata/022_alibabacloud-oss-to-another-oss-synchronization-/">
            AlibabaCloud OSSから別のOSSへ（同期）
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/help/best-practice/bigdata/023_development_environment_buildup_set_and_buildup_method/" class="dd-item">
        <div>
          <a href="/help/best-practice/bigdata/023_development_environment_buildup_set_and_buildup_method/">
            開発環境構築について
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    <li data-nav-id="/help/scenario/" class="dd-item haschildren
        ">
      <div>
      <a href="/help/scenario/">ユースケース別シナリオ</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
    <li data-nav-id="/help/scenario/web-application/" class="dd-item haschildren
        ">
      <div>
      <a href="/help/scenario/web-application/">Webアプリケーション</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/help/scenario/web-application/springboot-with-ecs/" class="dd-item">
        <div>
          <a href="/help/scenario/web-application/springboot-with-ecs/">
            ECSとSpringBootの構築例
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/help/scenario/terraform/" class="dd-item haschildren
        ">
      <div>
      <a href="/help/scenario/terraform/">Terraform</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/help/scenario/terraform/bastion-server/" class="dd-item">
        <div>
          <a href="/help/scenario/terraform/bastion-server/">
            SSH踏み台サーバの作成
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/help/scenario/terraform/slb-setting-sample/" class="dd-item">
        <div>
          <a href="/help/scenario/terraform/slb-setting-sample/">
            SLBの構築
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/help/scenario/terraform/rds-setting-sample/" class="dd-item">
        <div>
          <a href="/help/scenario/terraform/rds-setting-sample/">
            RDSの構築
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/help/scenario/terraform/kubernetes-setting-sample/" class="dd-item">
        <div>
          <a href="/help/scenario/terraform/kubernetes-setting-sample/">
            Kubernetesの構築と設定
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/help/scenario/terraform/web-application/" class="dd-item">
        <div>
          <a href="/help/scenario/terraform/web-application/">
            Webアプリケーションの構築
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/help/scenario/terraform/accelerated-content-delivery/" class="dd-item">
        <div>
          <a href="/help/scenario/terraform/accelerated-content-delivery/">
            高速コンテンツ配信の実現
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/help/scenario/terraform/auto-scaling/" class="dd-item">
        <div>
          <a href="/help/scenario/terraform/auto-scaling/">
            オートスケーリングの実現
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/help/scenario/terraform/web-application-on-kubernetes/" class="dd-item">
        <div>
          <a href="/help/scenario/terraform/web-application-on-kubernetes/">
            KubernetesによるコンテナでWordPress作成
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    <li data-nav-id="/help/faq/" class="dd-item haschildren
        ">
      <div>
      <a href="/help/faq/">よくある質問</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/help/faq/other/" class="dd-item">
        <div>
          <a href="/help/faq/other/">
            その他
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/help/faq/ecs/" class="dd-item">
        <div>
          <a href="/help/faq/ecs/">
            ECS
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/help/faq/oss/" class="dd-item">
        <div>
          <a href="/help/faq/oss/">
            OSS
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/help/faq/rds/" class="dd-item">
        <div>
          <a href="/help/faq/rds/">
            RDS
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/help/faq/slb/" class="dd-item">
        <div>
          <a href="/help/faq/slb/">
            SLB
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/help/faq/account/" class="dd-item">
        <div>
          <a href="/help/faq/account/">
            アカウント
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/help/faq/price/" class="dd-item">
        <div>
          <a href="/help/faq/price/">
            料金
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>




    </ul>
    <section><center>
<a class="github-button" href="https://github.com/sbcloud/help/archive/master.zip" data-icon="octicon-cloud-download" aria-label="Download SBC Technical Reference on GitHub">Download</a>

<a class="github-button" href="https://github.com/sbcloud/help" data-icon="octicon-star" data-show-count="false" aria-label="Star SBC Technical Reference on GitHub">Star</a>

<a class="github-button" href="https://github.com/sbcloud/help/fork" data-icon="octicon-repo-forked" data-show-count="true" aria-label="Fork SBC Technical Reference on GitHub">Fork</a>

</center>

<script async defer src="https://buttons.github.io/buttons.js"></script>


    </section>
  </aside>
  <section class="page">

    <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
        <span id="sidebar-toggle-span">
          <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
            <i class="fa fa-bars"></i>
          </a>
        </span>
        <span id="toc-menu"><i class="fa fa-list-alt"></i></span>
        <span class="links">
        










 <a href='/help/'></a> > <a href='/help/best-practice/'>ベストプラクティス</a> > <a href='/help/best-practice/product/'>プロダクト</a> > CloudMonitor

 

 

 


        </span>
    </div>
    
    <div class="nav-select">
      <center>Navigation : 
        <select onchange="javascript:location.href = this.value;">
          
    <option value="/help/getting-started/" >
   Getting Started</option>
    <option value="/help/best-practice/" >
   ベストプラクティス</option> 
    <option value="/help/best-practice/general/" >
  - 
   全般</option>
    <option value="/help/best-practice/product/" >
  - 
   プロダクト</option> 
    <option value="/help/best-practice/product/datav/" >
  -- 
   DataV</option>
      <option value="/help/best-practice/product/cloudmonitor/cloudmonitor/"  selected>-- CloudMonitor</option>
  
    <option value="/help/best-practice/web-application/" >
  - 
   Webアプリケーション</option>
    <option value="/help/best-practice/terraform/" >
  - 
   Terraform</option>
    <option value="/help/best-practice/network/" >
  - 
   ネットワーク</option>
    <option value="/help/best-practice/container/" >
  - 
   コンテナ</option>
    <option value="/help/best-practice/bigdata/" >
  - 
   Bigdata</option>
  
    <option value="/help/scenario/" >
   ユースケース別シナリオ</option>
    <option value="/help/faq/" >
   よくある質問</option>



        </select>
      </center>
    </div>

    <h1>CloudMonitor</h1>

    
    
    
    

<h2 id="本記事の狙い">本記事の狙い</h2>

<p>パブリッククラウドのメリットは、インフラ作業から開放し、サービス自体に集中できると言われていますが、基盤監視が不要ということではありません。オンプレミス環境と同様に、システム全体におけるパフォーマンス変化の把握、異常動作の検知、アラームの設定、自動バッチの実行、ログの可視化などを行う必要があります。</p>

<p>AlibabaCloudが提供する無料監視プロダクトCloudMonitorを利用することにより、コンソール操作、または簡単なバッチ仕込むことから、AlibabaCloud上のリソースを監視することができます。本文は、下記5つのポイントからCloudMonitorの利用方法を紹介します。</p>

<ol>
<li><a href="#性能監視">性能監視</a>

<ul>
<li><a href="#ECS性能監視">ECS編</a></li>
<li><a href="#RDS性能監視">RDS編</a></li>
<li><a href="#SLB性能監視">SLB編</a></li>
</ul></li>
<li><a href="#イベント監視">イベント監視</a>

<ul>
<li><a href="#ECSイベント監視">ECS編</a></li>
<li><a href="#RDSイベント監視">RDS編</a></li>
<li><a href="#SLBイベント監視">SLB編</a></li>
</ul></li>
<li><a href="#カスタム監視">カスタム監視</a></li>
<li><a href="#API連携">APIにより監視データの外部連携</a></li>
<li><a href="#Grafana">Grafanaにより監視データの可視化</a></li>
</ol>

<p><h4 id="性能監視"></h4></p>

<h2 id="1-性能監視">1. 性能監視</h2>

<p>AlibabaCloudの製品を利用するだけで、無料で付いてくるCloudMonitor監視です。手間かかる設定が必要ありません。CloudMonitorのコンソールにて、下記リストされた各製品のメトリック項目の時系列監視図の確認はもちろん、アラームを設定することも可能です。ECS製品の場合、エージェントをECSにインストールすることにより、監視可能なメトリックが更に豊富になります。</p>

<p><h4 id="ECS性能監視"></h4></p>

<h3 id="ecs編">ECS編</h3>

<h4 id="基本監視-エージェント不要">・基本監視（エージェント不要）</h4>

<table>
<thead>
<tr>
<th>メトリック項目</th>
<th>説明</th>
<th>単位</th>
</tr>
</thead>

<tbody>
<tr>
<td>ECS.CPUUtilization</td>
<td>CPUの使用率</td>
<td>％</td>
</tr>

<tr>
<td>ECS.InternetInRate</td>
<td>インターネットインバウンドの帯域幅</td>
<td>ビット/秒</td>
</tr>

<tr>
<td>ECS.IntranetInRate</td>
<td>イントラネットインバウンドの帯域幅</td>
<td>ビット/秒</td>
</tr>

<tr>
<td>ECS.InternetOutRate</td>
<td>インターネットアウトバウンドの帯域幅</td>
<td>ビット/秒</td>
</tr>

<tr>
<td>ECS.IntranetOutRate</td>
<td>イントラネットアウトバウンドの帯域幅</td>
<td>ビット/秒</td>
</tr>

<tr>
<td>ECS.SystemDiskReadbps</td>
<td>1秒あたりのシステムディスク読取バイト数</td>
<td>バイト/秒</td>
</tr>

<tr>
<td>ECS.SystemDiskWritebps</td>
<td>1秒あたりのシステムディスク書込バイト数</td>
<td>バイト/秒</td>
</tr>

<tr>
<td>ECS.SystemDiskReadOps</td>
<td>1秒あたりのシステムディスク読取回数</td>
<td>回/秒</td>
</tr>

<tr>
<td>ECS.SystemDiskWriteOps</td>
<td>1秒あたりのシステムディスク書込回数</td>
<td>回/秒</td>
</tr>

<tr>
<td>ECS.InternetIn</td>
<td>インターネットインバウンドのトラフィック量</td>
<td>バイト</td>
</tr>

<tr>
<td>ECS.InternetOut</td>
<td>インターネットアウトバウンドのトラフィック量</td>
<td>バイト</td>
</tr>

<tr>
<td>ECS.IntranetIn</td>
<td>イントラネットインバウンドのトラフィック量</td>
<td>バイト</td>
</tr>

<tr>
<td>ECS.IntranetOut</td>
<td>イントラネットアウトバウンドのトラフィック量</td>
<td>バイト</td>
</tr>
</tbody>
</table>

<h4 id="cpu監視">・CPU監視</h4>

<table>
<thead>
<tr>
<th>メトリック項目</th>
<th>説明</th>
<th>単位</th>
</tr>
</thead>

<tbody>
<tr>
<td>Host.cpu.idle</td>
<td>CPUのアイドル率</td>
<td>％</td>
</tr>

<tr>
<td>Host.cpu.system</td>
<td>カーネルプロセスのCPU使用率</td>
<td>％</td>
</tr>

<tr>
<td>Host.cpu.user</td>
<td>ユーザープロセスのCPU使用率</td>
<td>％</td>
</tr>

<tr>
<td>Host.cpu.iowait</td>
<td>I/O操作待ちプロセスのCPU使用率</td>
<td>％</td>
</tr>

<tr>
<td>Host.cpu.other</td>
<td>Nice + SoftIrq + Irq + StolenプロセスのCPU使用率</td>
<td>％</td>
</tr>

<tr>
<td>Host.cpu.total</td>
<td>CPUの使用率</td>
<td>％</td>
</tr>
</tbody>
</table>

<h4 id="メモリ監視">・メモリ監視</h4>

<table>
<thead>
<tr>
<th>メトリック項目</th>
<th>説明</th>
<th>単位</th>
</tr>
</thead>

<tbody>
<tr>
<td>Host.mem.total</td>
<td>メモリの容量</td>
<td>バイト</td>
</tr>

<tr>
<td>Host.mem.used</td>
<td>使用中のメモリ容量</td>
<td>バイト</td>
</tr>

<tr>
<td>Host.mem.actualused</td>
<td>ユーザーが使用中のメモリ容量</td>
<td>バイト</td>
</tr>

<tr>
<td>Host.mem.free</td>
<td>使用可能のメモリ容量</td>
<td>バイト</td>
</tr>

<tr>
<td>Host.mem.freeutilization</td>
<td>メモリのアイドル率</td>
<td>％</td>
</tr>

<tr>
<td>Host.mem.usedutilization</td>
<td>メモリの使用率</td>
<td>％</td>
</tr>
</tbody>
</table>

<h4 id="システム負荷監視-linux専用">・システム負荷監視（Linux専用）</h4>

<table>
<thead>
<tr>
<th>メトリック項目</th>
<th>説明</th>
<th>単位</th>
</tr>
</thead>

<tbody>
<tr>
<td>Host.load1</td>
<td>1分間の平均システム負荷</td>
<td>-</td>
</tr>

<tr>
<td>Host.load5</td>
<td>5分間の平均システム負荷</td>
<td>-</td>
</tr>

<tr>
<td>Host.load15</td>
<td>15分間の平均システム負荷</td>
<td>-</td>
</tr>
</tbody>
</table>

<h4 id="ディスク監視">・ディスク監視</h4>

<table>
<thead>
<tr>
<th>メトリック項目</th>
<th>説明</th>
<th>単位</th>
</tr>
</thead>

<tbody>
<tr>
<td>Host.diskusage.used</td>
<td>使用中のディスク容量</td>
<td>バイト</td>
</tr>

<tr>
<td>Host.disk.utilization</td>
<td>ディスクの使用率</td>
<td>％</td>
</tr>

<tr>
<td>Host.diskusage.free</td>
<td>使用可能のディスク容量</td>
<td>バイト</td>
</tr>

<tr>
<td>Host.diskussage.total</td>
<td>ディスクの容量</td>
<td>バイト</td>
</tr>

<tr>
<td>Host.disk.readbytes</td>
<td>1秒あたりのディスク読取バイト数</td>
<td>バイト/秒</td>
</tr>

<tr>
<td>Host.disk.writebytes</td>
<td>1秒あたりのディスク書込バイト数</td>
<td>バイト/秒</td>
</tr>

<tr>
<td>Host.disk.readiops</td>
<td>1秒あたりのディスク読取回数</td>
<td>回/秒</td>
</tr>

<tr>
<td>Host.disk.writeiops</td>
<td>1秒あたりのディスク書込回数</td>
<td>回/秒</td>
</tr>
</tbody>
</table>

<h4 id="ファイルシステム監視-linux専用">・ファイルシステム監視（Linux専用）</h4>

<table>
<thead>
<tr>
<th>メトリック項目</th>
<th>説明</th>
<th>単位</th>
</tr>
</thead>

<tbody>
<tr>
<td>Host.fs.inode</td>
<td>inodeの使用率</td>
<td>％</td>
</tr>
</tbody>
</table>

<h4 id="ネットワーク監視">・ネットワーク監視</h4>

<table>
<thead>
<tr>
<th>メトリック項目</th>
<th>説明</th>
<th>単位</th>
</tr>
</thead>

<tbody>
<tr>
<td>Host.netin.rate</td>
<td>インバウンドの帯域幅</td>
<td>ビット/秒</td>
</tr>

<tr>
<td>Host.netout.rate</td>
<td>アウトバウンドの帯域幅</td>
<td>ビット/秒</td>
</tr>

<tr>
<td>Host.netin.packages</td>
<td>インバウンドのパケット数</td>
<td>パケット/秒</td>
</tr>

<tr>
<td>Host.netout.packages</td>
<td>アウトバウンドのパケット数</td>
<td>パケット/秒</td>
</tr>

<tr>
<td>Host.netin.errorpackage</td>
<td>インバウンドエラーのパケット数</td>
<td>パケット/秒</td>
</tr>

<tr>
<td>Host.netout.errorpackages</td>
<td>アウトバウンドエラーのパケット数</td>
<td>パケット/秒</td>
</tr>

<tr>
<td>Host.tcpconnection</td>
<td>TCP接続数 <code>LISTEN、SYN_SENT、ESTABLISHED、SYN_RECV、FIN_WAIT1、CLOSE_WAIT、FIN_WAIT2、LAST_ACK、TIME_WAIT、CLOSING、CLOSEDを含む</code></td>
<td>接続数</td>
</tr>
</tbody>
</table>

<h4 id="プロセス監視">・プロセス監視</h4>

<table>
<thead>
<tr>
<th>メトリック項目</th>
<th>説明</th>
<th>単位</th>
</tr>
</thead>

<tbody>
<tr>
<td>Host.process.cpu</td>
<td>プロセスのCPU使用率</td>
<td>％</td>
</tr>

<tr>
<td>Host.process.memory</td>
<td>プロセスのメモリ使用率</td>
<td>％</td>
</tr>

<tr>
<td>Host.process.openfile</td>
<td>プロセスの使用中ファイル数</td>
<td>ファイル数</td>
</tr>

<tr>
<td>Host.process.number</td>
<td>キーワードと一致するプロセスの数</td>
<td>プロセス数</td>
</tr>
</tbody>
</table>

<hr />

<p><h4 id="RDS性能監視"></h4></p>

<h3 id="rds編">RDS編</h3>

<table>
<thead>
<tr>
<th>メトリック項目</th>
<th>説明</th>
<th>単位</th>
</tr>
</thead>

<tbody>
<tr>
<td>Disk usage</td>
<td>ディスクの使用率</td>
<td>％</td>
</tr>

<tr>
<td>Connection usage</td>
<td>接続数の使用率</td>
<td>％</td>
</tr>

<tr>
<td>CPU usage</td>
<td>CPUの使用率</td>
<td>％</td>
</tr>

<tr>
<td>Memory usage</td>
<td>メモリの使用率</td>
<td>％</td>
</tr>

<tr>
<td>MySQL Incoming network traffic</td>
<td>1 秒あたりのMySQLインバウンドトラフィック</td>
<td>ビット/秒</td>
</tr>

<tr>
<td>MySQL Outgoing network traffic</td>
<td>1 秒あたりのMySQLアウトバウンドトラフィック</td>
<td>ビット/秒</td>
</tr>

<tr>
<td>SQLServer Incoming network traffic</td>
<td>1 秒あたりのSQLServerインバウンドトラフィック</td>
<td>ビット/秒</td>
</tr>

<tr>
<td>SQLServer Outgoing network traffic</td>
<td>1 秒あたりのSQLServerアウトバウンドトラフィック</td>
<td>ビット/秒</td>
</tr>

<tr>
<td>MySQL Active connections</td>
<td>MySQLのアクティブセッション数</td>
<td>セッション数</td>
</tr>

<tr>
<td>Read-only instance latency</td>
<td>リードレプリカの遅延</td>
<td>秒</td>
</tr>
</tbody>
</table>

<hr />

<p><h4 id="SLB性能監視"></h4></p>

<h3 id="slb編">SLB編</h3>

<h4 id="レイヤー4監視">・レイヤー4監視</h4>

<table>
<thead>
<tr>
<th>メトリック項目</th>
<th>説明</th>
<th>単位</th>
</tr>
</thead>

<tbody>
<tr>
<td>Port inbound traffic</td>
<td>特定ポートのインバウンドトラフィック</td>
<td>ビット/秒</td>
</tr>

<tr>
<td>Port outbound traffic</td>
<td>特定ポートのアウトバウンドトラフィック</td>
<td>ビット/秒</td>
</tr>

<tr>
<td>Number of inbound data packets by port</td>
<td>特定ポートのインバウンドパケット数</td>
<td>回/秒</td>
</tr>

<tr>
<td>Number of outbound data packets by port</td>
<td>特定ポートのアウトバウンドパケット数</td>
<td>回/秒</td>
</tr>

<tr>
<td>Number of new port connections</td>
<td>特定ポートの新規接続数</td>
<td>接続数</td>
</tr>

<tr>
<td>Number of active port connections</td>
<td>特定ポートのアクティブ接続数</td>
<td>接続数</td>
</tr>

<tr>
<td>Number of inactive port connections</td>
<td>特定ポートの非アクティブ接続数</td>
<td>接続数</td>
</tr>

<tr>
<td>Number of concurrent port connections</td>
<td>特定ポートの総接続数</td>
<td>接続数</td>
</tr>

<tr>
<td>Number of backend healthy ECS instances by port</td>
<td>特定ポートのヘルスチェック正常のECS数</td>
<td>台</td>
</tr>

<tr>
<td>Number of backend unhealthy ECS instances by port</td>
<td>特定ポートのヘルスチェック異常のECS数</td>
<td>台</td>
</tr>

<tr>
<td>Number of discarded port connections</td>
<td>特定ポートの廃棄接続数</td>
<td>回/秒</td>
</tr>

<tr>
<td>Number of discarded inbound data packets by port</td>
<td>特定ポートのインバウンド廃棄接続数</td>
<td>回/秒</td>
</tr>

<tr>
<td>Number of discarded outbound data packets by port</td>
<td>特定ポートのアウトバウンド廃棄接続数</td>
<td>回/秒</td>
</tr>

<tr>
<td>Number of discarded inbound bandwidth by port</td>
<td>特定ポートのインバウンド廃棄トラフィック</td>
<td>ビット/秒</td>
</tr>

<tr>
<td>Number of discarded outbound bandwidth by port</td>
<td>特定ポートのアウトバウンド廃棄トラフィック</td>
<td>ビット/秒</td>
</tr>

<tr>
<td>Number of active instance connections</td>
<td>アクティブ接続数</td>
<td>回/秒</td>
</tr>

<tr>
<td>Number of inactive instance connections</td>
<td>非アクティブ接続数</td>
<td>回/秒</td>
</tr>

<tr>
<td>Number of discarded instance connections</td>
<td>廃棄接続数</td>
<td>回/秒</td>
</tr>

<tr>
<td>Number of discarded inbound data packets by instance</td>
<td>廃棄インバウンドパケット数</td>
<td>回数/秒</td>
</tr>

<tr>
<td>Number of discarded outbound data packets by instance</td>
<td>廃棄アウトバウンドパケット数</td>
<td>回数/秒</td>
</tr>

<tr>
<td>Discarded inbound bandwidth by instance</td>
<td>廃棄インバウンドトラフィック</td>
<td>ビット/秒</td>
</tr>

<tr>
<td>Discarded outbound bandwidth by instance</td>
<td>廃棄アウトバウンドトラフィック</td>
<td>ビット/秒</td>
</tr>

<tr>
<td>Number of concurrent instance connections</td>
<td>接続総数</td>
<td>回/秒</td>
</tr>

<tr>
<td>Number of new instance connections</td>
<td>新規接続数</td>
<td>回/秒</td>
</tr>

<tr>
<td>Number of inbound data packets by instance</td>
<td>インバウンドパケット数</td>
<td>回/秒</td>
</tr>

<tr>
<td>Number of outbound data packets by instance</td>
<td>アウトバウンドパケット数</td>
<td>回/秒</td>
</tr>

<tr>
<td>Number of inbound bandwidth by instance</td>
<td>インバウンドトラフィック</td>
<td>ビット/秒</td>
</tr>

<tr>
<td>Number of outbound bandwidth by instance</td>
<td>アウトバウンドトラフィック</td>
<td>ビット/秒</td>
</tr>
</tbody>
</table>

<h4 id="レイヤー7監視">・レイヤー7監視</h4>

<table>
<thead>
<tr>
<th>メトリック項目</th>
<th>説明</th>
<th>単位</th>
</tr>
</thead>

<tbody>
<tr>
<td>Port QPS</td>
<td>特定ポートのQPS</td>
<td>回/秒</td>
</tr>

<tr>
<td>Port RT</td>
<td>特定ポートの平均要求待ち時間</td>
<td>ミリ秒</td>
</tr>

<tr>
<td>Status codes of the format 2xx</td>
<td>特定ポートの2xxのステータスコードの数</td>
<td>回/秒</td>
</tr>

<tr>
<td>Status codes of the format 3xx</td>
<td>特定ポートの3xxのステータスコードの数</td>
<td>回/秒</td>
</tr>

<tr>
<td>Status codes of the format 4xx</td>
<td>特定ポートの4xxのステータスコードの数</td>
<td>回/秒</td>
</tr>

<tr>
<td>Status codes of the format 5xx</td>
<td>特定ポートの5xxのステータスコードの数</td>
<td>回/秒</td>
</tr>

<tr>
<td>Other status codes SLB</td>
<td>特定ポートのその他ステータスコードの数</td>
<td>回/秒</td>
</tr>

<tr>
<td>Upstream status codes of the format 4xx</td>
<td>特定ポートのRSから返す4xxのステータスコードの数</td>
<td>回/秒</td>
</tr>

<tr>
<td>Upstream status codes of the format 5xx</td>
<td>特定ポートのRSから返す5xxのステータスコードの数</td>
<td>回/秒</td>
</tr>

<tr>
<td>Upstream RT</td>
<td>特定ポートのRSからプロキシへの平均リクエスト遅延</td>
<td>ミリ秒</td>
</tr>

<tr>
<td>Instance QPS</td>
<td>SLBのQPS</td>
<td>回/秒</td>
</tr>

<tr>
<td>Instance RT</td>
<td>SLBの平均リクエストレイテンシ</td>
<td>回/秒</td>
</tr>

<tr>
<td>Instance Status codes of the format 2xx</td>
<td>SLBの2xxのステータスコードの数</td>
<td>回/秒</td>
</tr>

<tr>
<td>Instance Status codes of the format 3xx</td>
<td>SLBの3xxのステータスコードの数</td>
<td>回/秒</td>
</tr>

<tr>
<td>Instance Status codes of the format 4xx</td>
<td>SLBの4xxのステータスコードの数</td>
<td>回/秒</td>
</tr>

<tr>
<td>Instance Status codes of the format 5xx</td>
<td>SLBの5xxのステータスコードの数</td>
<td>回/秒</td>
</tr>

<tr>
<td>Instance Other status codes    SLB</td>
<td>SLBのその他ステータスコードの数</td>
<td>回/秒</td>
</tr>

<tr>
<td>Instance Upstream status codes of the format 4xx</td>
<td>SLBのRSから返す4xxのステータスコードの数</td>
<td>回/秒</td>
</tr>

<tr>
<td>Instance Upstream status codes of the format 5xx</td>
<td>SLBのRSから返す5xxのステータスコードの数</td>
<td>回/秒</td>
</tr>

<tr>
<td>Instance Upstream RT</td>
<td>SLBのRSからプロキシへの平均リクエスト遅延</td>
<td>ミリ秒</td>
</tr>
</tbody>
</table>

<hr />

<p><h4 id="イベント監視"></h4></p>

<h2 id="2-イベント監視">2. イベント監視</h2>

<p>CloudMonitorの性能監視と同様に、各製品のシステムイベント監視をも無料で提供しています。製品インスタンスが実行中発生したシステムイベントを確認し、もっと簡単に問題を特定することができます。もちろん監視イベントに対するアラーム設定も可能です。使用可能なシステムイベント監視項目は下記となります。</p>

<p><h4 id="ECSイベント監視"></h4></p>

<h3 id="ecs編-1">ECS編</h3>

<table>
<thead>
<tr>
<th>イベント名</th>
<th>説明</th>
<th>イベントタイプ</th>
<th>イベントステータス</th>
<th>重要度</th>
</tr>
</thead>

<tbody>
<tr>
<td>Instance:InstanceFailure.Reboot</td>
<td>フェイラーにより再起動開始</td>
<td>Exception</td>
<td>Executing</td>
<td>CRITICAL</td>
</tr>

<tr>
<td>Instance:InstanceFailure.Reboot</td>
<td>フェイラーにより再起動終了</td>
<td>Exception</td>
<td>Executed</td>
<td>CRITICAL</td>
</tr>

<tr>
<td>Instance:SystemFailure.Reboot</td>
<td>システムエラーにより再起動開始</td>
<td>Exception</td>
<td>Executing</td>
<td>CRITICAL</td>
</tr>

<tr>
<td>Instance:SystemFailure.Reboot</td>
<td>システムエラーにより再起動終了</td>
<td>Exception</td>
<td>Executed</td>
<td>CRITICAL</td>
</tr>

<tr>
<td>Instance:SystemMaintenance.Reboot</td>
<td>メンテナンスにより再起動予定</td>
<td>Maintenance</td>
<td>Scheduled</td>
<td>CRITICAL</td>
</tr>

<tr>
<td>Instance:SystemMaintenance.Reboot</td>
<td>メンテナンスにより再起動回避</td>
<td>Maintenance</td>
<td>Avoided</td>
<td>CRITICAL</td>
</tr>

<tr>
<td>Instance:SystemMaintenance.Reboot</td>
<td>メンテナンスにより再起動中</td>
<td>Maintenance</td>
<td>Executing</td>
<td>CRITICAL</td>
</tr>

<tr>
<td>Instance:SystemMaintenance.Reboot</td>
<td>メンテナンスにより再起動終了</td>
<td>Maintenance</td>
<td>Executed</td>
<td>CRITICAL</td>
</tr>

<tr>
<td>Instance:SystemMaintenance.Reboot</td>
<td>メンテナンスにより再起動取消</td>
<td>Maintenance</td>
<td>Canceled</td>
<td>CRITICAL</td>
</tr>

<tr>
<td>Instance:SystemMaintenance.Reboot</td>
<td>メンテナンスにより再起動失敗</td>
<td>Maintenance</td>
<td>Failed</td>
<td>CRITICAL</td>
</tr>

<tr>
<td>Disk:Stalled</td>
<td>ディスク性能影響受ける開始</td>
<td>Exception</td>
<td>Executing</td>
<td>CRITICAL</td>
</tr>

<tr>
<td>Disk:Stalled</td>
<td>ディスク性能影響受ける終了</td>
<td>Exception</td>
<td>Executed</td>
<td>CRITICAL</td>
</tr>

<tr>
<td>Instance:StateChange</td>
<td>インスタンスステータス変更 <code>Running、Stopped、Deleted</code></td>
<td>StatusNotification</td>
<td>Normal</td>
<td>INFO</td>
</tr>

<tr>
<td>Instance:PreemptibleInstanceInterruption</td>
<td>スポットインスタンス中断</td>
<td>StatusNotification</td>
<td>Normal</td>
<td>WARN</td>
</tr>

<tr>
<td>Snapshot:CreateSnapshotCompleted</td>
<td>スナップショット作成終了</td>
<td>StatusNotification</td>
<td>Normal</td>
<td>INFO</td>
</tr>
</tbody>
</table>

<hr />

<p><h4 id="RDSイベント監視"></h4></p>

<h3 id="rds編-1">RDS編</h3>

<table>
<thead>
<tr>
<th>イベント名</th>
<th>説明</th>
<th>イベントステータス</th>
<th>重要度</th>
</tr>
</thead>

<tbody>
<tr>
<td>Instance_Failover</td>
<td>フェールオーバ発生</td>
<td>Executed</td>
<td>WARN</td>
</tr>

<tr>
<td>Instance_Failure_Start</td>
<td>フェール開始</td>
<td>Executing</td>
<td>CRITICAL</td>
</tr>

<tr>
<td>Instance_Failure_End</td>
<td>フェール終了</td>
<td>Executed</td>
<td>CRITICAL</td>
</tr>
</tbody>
</table>

<hr />

<p><h4 id="SLBイベント監視"></h4></p>

<h3 id="slb編-1">SLB編</h3>

<table>
<thead>
<tr>
<th>イベント名</th>
<th>説明</th>
<th>重要度</th>
</tr>
</thead>

<tbody>
<tr>
<td>CertKeyExpired_1</td>
<td>証明書は1日後に失効</td>
<td>WARN</td>
</tr>

<tr>
<td>CertKeyExpired_3</td>
<td>証明書は3日後に失効</td>
<td>WARN</td>
</tr>

<tr>
<td>CertKeyExpired_7</td>
<td>証明書は7日後に失効</td>
<td>WARN</td>
</tr>

<tr>
<td>CertKeyExpired_15</td>
<td>証明書は15日後に失効</td>
<td>WARN</td>
</tr>

<tr>
<td>CertKeyExpired_30</td>
<td>証明書は30日後に失効</td>
<td>WARN</td>
</tr>

<tr>
<td>CertKeyExpired_60</td>
<td>証明書は60日後に失効</td>
<td>WARN</td>
</tr>
</tbody>
</table>

<hr />

<p><h4 id="カスタム監視"></h4></p>

<h2 id="3-カスタム監視">3. カスタム監視</h2>

<p>ECS製品の性能監視／イベント監視に提供してないメトリック項目、またはAlibabaCloud製品以外の仮想サーバーのデータをCloudMonitorに連携して監視することができます。連携方式はOpenAPI、Java SDK、Aliyun CLI、3つの方式があります。下記はMACでのAliyun CLIの使用例を紹介します。</p>

<p>1.　AccessIDとAccessKeyを作成します。作成方法は<a href="https://jp.alibabacloud.com/help/doc-detail/53045.html">ドキュメント</a>をご参考ください。</p>

<p>2.　Go言語のAliyun CLIツールの最新版をローカルにダウンロードします。ダウンロード先は<a href="https://github.com/aliyun/aliyun-cli/releases">こちら</a>です。</p>

<p>3.　MACの場合、ダウンロードしたファイルを<code>/usr/local/bin</code>配下に移動します。</p>

<p>4.　Aliyun CLIの環境変数を設定します。</p>

<pre><code>$ aliyun configure
Configuring profile 'default' in 'AK' authenticate mode...
Access Key Id []: &lt;Your AccessKey ID&gt;
Access Key Secret []: &lt;Your AccessKey Secret&gt;
Default Region Id []: ap-northeast-1
Default Output Format [json]: json (Only support json)
Default Language [zh|en] en: en
Saving profile[default] ...Done.
Configure Done!!!
</code></pre>

<p>5.　カスタムデータをCloudMonitorにアップロードします。</p>

<pre><code>$ aliyun cms PutCustomMetric --MetricList.1.GroupId &quot;1&quot; --MetricList.1.MetricName cpu_total --MetricList.1.Dimensions '{&quot;sampleName1&quot;:&quot;value1&quot;,&quot;sampleName2&quot;:&quot;value2&quot;}' --MetricList.1.Time 20190919T145500.000+0900 --MetricList.1.Type 0 --MetricList.1.Period 60 --MetricList.1.Values '{&quot;value&quot;:10.5}' 
{
	&quot;Message&quot;: &quot;success&quot;,
	&quot;RequestId&quot;: &quot;1EBC8667-911A-46FC-88CD-D3BDDBC5B798&quot;,
	&quot;Code&quot;: &quot;200&quot;
}
</code></pre>

<p><strong>パラメータ説明</strong></p>

<table>
<thead>
<tr>
<th>パラメータ名</th>
<th>タイプ</th>
<th>必須かどうか</th>
<th>説明</th>
</tr>
</thead>

<tbody>
<tr>
<td>groupId</td>
<td>long</td>
<td>はい</td>
<td>グループID</td>
</tr>

<tr>
<td>metricName</td>
<td>string</td>
<td>はい</td>
<td>監視項目名。英文字、数字、符号<code>_-./\</code>を利用可能、最大64バイト</td>
</tr>

<tr>
<td>dimensions</td>
<td>object</td>
<td>はい</td>
<td>ディメンジョンマップ。key-value形式、英文字、数字、符号<code>_-./\</code>を利用可能、最大10ペア、keyおよびvalue各最大64バイト</td>
</tr>

<tr>
<td>time</td>
<td>string</td>
<td>はい</td>
<td>監視時刻。“yyyyMMdd’T’HHmmss.SSSZ”またはlongタイムスタンプ対応。例、“20171012T132456.888+0800”または“1508136760000”</td>
</tr>

<tr>
<td>type</td>
<td>int</td>
<td>はい</td>
<td>監視値種類、0は生データ、1は集約データ</td>
</tr>

<tr>
<td>period</td>
<td>string</td>
<td>いいえ</td>
<td>集約期間、単位：秒。type=1の場合、指定必須。値：60、300</td>
</tr>

<tr>
<td>values</td>
<td>object</td>
<td>はい</td>
<td>監視値。type=0の場合、キーは &ldquo;value&rdquo;。type=1の場合、最大値、カウント数、合計値を指定可能</td>
</tr>
</tbody>
</table>

<hr />

<p><h4 id="API連携"></h4></p>

<h2 id="4-apiにより監視データの外部連携">4. APIにより監視データの外部連携</h2>

<p>APIにより、CloudMonitorの監視データを取得し、外部監視システムと連携することができます。下記3つのインターフェイスを提供しています。</p>

<p>・<a href="https://www.alibabacloud.com/help/doc-detail/114916.htm">DescribeProjectMeta</a></p>

<p>CloudMonitorが時系列で監視可能な製品情報の取得</p>

<p>・<a href="https://www.alibabacloud.com/help/doc-detail/98846.htm">DescribeMetricMetaList</a></p>

<p>CloudMonitorが時系列で監視可能なメトリック情報の取得</p>

<p>・<a href="https://www.alibabacloud.com/help/doc-detail/51936.htm">DescribeMetricList</a>／<a href="https://www.alibabacloud.com/help/doc-detail/51939.htm">DescribeMetricLast</a></p>

<p>CloudMonitorが収集したメトリックデータリスト、または最新メトリックデータの取得</p>

<pre><code>/**
 * 指定期間内の監視データのクエリ例
 */
 
import com.aliyuncs.DefaultAcsClient;
import com.aliyuncs.IAcsClient;
import com.aliyuncs.exceptions.ClientException;
import com.aliyuncs.exceptions.ServerException;
import com.aliyuncs.profile.DefaultProfile;
import com.google.gson.Gson;
import java.util.*;
import com.aliyuncs.cms.model.v20190101.*;

public class DescribeMetricList {

    public static void main(String[] args) {
        DefaultProfile profile = DefaultProfile.getProfile(&quot;cn-hangzhou&quot;, &quot;&lt;accessKeyId&gt;&quot;, &quot;&lt;accessSecret&gt;&quot;);
        IAcsClient client = new DefaultAcsClient(profile);

        DescribeMetricListRequest request = new DescribeMetricListRequest();
        //namespaceとmetricはDescribeMetricMetaList、DescribeProjectMetaで取得可能
        request.setNamespace(&quot;acs_ecs_dashboard&quot;);
        request.setMetricName(&quot;cpu_total&quot;);
        //periodは取得期間は60s
        request.setPeriod(&quot;60&quot;);
        //レコード数を指定、最大1000まで
        request.setLength(&quot;1000&quot;);
        //クエリの開始時間
        request.setStartTime(&quot;2019-07-22 11:00:00&quot;);
        //クエリの終了時間
        request.setEndTime(&quot;2019-07-22 12:00:00&quot;);
        //クエリdimensionを指定（結果をフィルタ）
        request.setDimensions(&quot;[{\&quot;instanceId\&quot;:\&quot;i-8vb******\&quot;}]&quot;);

        try {
            DescribeMetricListResponse response = client.getAcsResponse(request);
            System.out.println(new Gson().toJson(response));
        } catch (ServerException e) {
            e.printStackTrace();
        } catch (ClientException e) {
            System.out.println(&quot;ErrCode:&quot; + e.getErrCode());
            System.out.println(&quot;ErrMsg:&quot; + e.getErrMsg());
            System.out.println(&quot;RequestId:&quot; + e.getRequestId());
        }

    }
}
</code></pre>

<p><h4 id="Grafana"></h4></p>

<h2 id="5-grafanaにより監視データの可視化">5. Grafanaにより監視データの可視化</h2>

<p>CloudMonitorがGrafana連携用のプラグインを提供しています。Grafanaにより監視データの可視化りようには便利です。下記ではGrafana用プラグインのインストールからデータ可視化までの手順を説明します。</p>

<p>1.　AccessIDとAccessKeyを作成します。作成方法は<a href="https://jp.alibabacloud.com/help/doc-detail/53045.html">ドキュメント</a>をご参考ください。</p>

<p>2.　Grafanaをインストールします。インストール方法は<a href="https://grafana.com/docs/installation/">Grafana公式ドキュメント</a>をご参考ください。</p>

<p>3.　Grafanaを起動します。</p>

<pre><code> # service grafana-server start
</code></pre>

<p>4.　GrafanaにCloudMonitor用プラグインをインストールします。</p>

<pre><code># cd /var/lib/grafana/plugins/
# git clone https://github.com/aliyun/aliyun-cms-grafana.git 
# service grafana-server restart
</code></pre>

<p>5.　Grafanaにログインし、左側メニューの「Configure ー DataSource」をクリックします。
<img src="https://jiang-bestpratice.oss-ap-northeast-1.aliyuncs.com/1.jpg" alt="" /></p>

<p>6.　「Add data source」をクリックします。
<img src="https://jiang-bestpratice.oss-ap-northeast-1.aliyuncs.com/2.jpg" alt="" /></p>

<p>7.　「CMS Grafana Service」を選択します。
<img src="https://jiang-bestpratice.oss-ap-northeast-1.aliyuncs.com/3.jpg" alt="" /></p>

<p>8.　CMS Grafana Service用パラメータを設定し、保存します。</p>

<pre><code>Name：CMS Grafana Service
URL：http://metrics.ap-northeast-1.aliyuncs.com
AccessKeyId：&lt;Your AccessKey ID&gt;
AccessKey：&lt;Your AccessKey Secret&gt;
</code></pre>

<p><img src="https://jiang-bestpratice.oss-ap-northeast-1.aliyuncs.com/4.jpg" alt="" /></p>

<p>9.　左側メニューの「Configure ー Manage」をクリックします。
<img src="https://jiang-bestpratice.oss-ap-northeast-1.aliyuncs.com/5.jpg" alt="" /></p>

<p>10.　「New Dashboard ー Add Query」をクリックします。
<img src="https://jiang-bestpratice.oss-ap-northeast-1.aliyuncs.com/6.jpg" alt="" />
<img src="https://jiang-bestpratice.oss-ap-northeast-1.aliyuncs.com/7.jpg" alt="" /></p>

<p>11.　Grafanaのクエリパラメータを選択/入力し、CloudMonitorのデータを可視化にします。</p>

<pre><code>Data Source：CMS Grafana Service
Project：&lt;acs_xxx_dashboard&gt;
Metric：&lt;監視メトリック&gt;
Period：&lt;監視期間メトリック&gt;
Group:&lt;グループモニタリング&gt;
Dimensions:&lt;インスタンス&gt;
Y-column:Minimum/Average/Maximum
X-column:timestamp
Y-column describe:&lt;Y軸カスタマイズ接続語&gt;
</code></pre>

<p><img src="https://jiang-bestpratice.oss-ap-northeast-1.aliyuncs.com/8.jpg" alt="" /></p>


    
    
        <div class="chevrons">
    <div id="navigation">
<a class="nav nav-prev" href="/help/best-practice/product/datav/datav-widget-develop-guide/" title="DataV Widget 開発ガイド"> <i class="fa fa-chevron-left"></i><label>DataV Widget 開発ガイド</label></a>
    <a class="nav nav-next" href="/help/best-practice/web-application/" title="Webアプリケーション" style="margin-right: 0px;"><label>Webアプリケーション</label><i class="fa fa-chevron-right"></i></a></div>
  </div>

  </section>
</article>

<footer>

<div class="footline">
    

    

    
    <div class="date">
        <i class='fa fa-calendar'></i>  09/23/2019
    </div>
    

    
    <div class="github-link">
      <a href="https://github.com/sbcloud/help/tree/master/content/best-practice/product/cloudmonitor/cloudmonitor.md" target="blank"><i class="fa fa-code-fork"></i>
        </a>
    </div>
    
  </div>


	<div>


  
    
  



	</div>
</footer>

<script src="/help/js/clipboard.min.js"></script>

<link href="/help/css/featherlight.min.css" rel="stylesheet">
<script src="/help/js/featherlight.min.js"></script>



<script src="/help/theme-flex/script.js"></script>

<link href="/help/mermaid/mermaid.css" type="text/css" rel="stylesheet" />
<script src="/help/mermaid/mermaid.js"></script>
<script>
    mermaid.initialize({ startOnLoad: true });
</script>


    

    
    

    
  </body>
</html>
